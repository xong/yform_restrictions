!function(t){function l(t){return t.replace(/(:|\.)/g,"\\$1")}var e="1.4.13",o={},n={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2,preventDefault:!0},r=function(l){var e=[],o=!1,n=l.dir&&"left"==l.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var l=t(this);l[n]()>0?e.push(this):(l[n](1),o=l[n]()>0,o&&e.push(this),l[n](0))}}),e.length||this.each(function(){"BODY"===this.nodeName&&(e=[this])}),"first"===l.el&&e.length>1&&(e=[e[0]]),e};t.fn.extend({scrollable:function(t){var l=r.call(this,{dir:t});return this.pushStack(l)},firstScrollable:function(t){var l=r.call(this,{el:"first",dir:t});return this.pushStack(l)},mblockSmoothScroll:function(e,o){if(e=e||{},"options"===e)return o?this.each(function(){var l=t(this),e=t.extend(l.data("ssOpts")||{},o);t(this).data("ssOpts",e)}):this.first().data("ssOpts");var n=t.extend({},t.fn.mblockSmoothScroll.defaults,e),r=t.mblockSmoothScroll.filterPath(location.pathname);return this.unbind("click.mblockSmoothScroll").bind("click.mblockSmoothScroll",function(e){var o=this,c=t(this),s=t.extend({},n,c.data("ssOpts")||{}),i=n.exclude,a=s.excludeWithin,f=0,h=0,u=!0,m={},d=location.hostname===o.hostname||!o.hostname,p=s.scrollTarget||(t.mblockSmoothScroll.filterPath(o.pathname)||r)===r,S=l(o.hash);if(s.scrollTarget||d&&p&&S){for(;u&&f<i.length;)c.is(l(i[f++]))&&(u=!1);for(;u&&h<a.length;)c.closest(a[h++]).length&&(u=!1)}else u=!1;u&&(s.preventDefault&&e.preventDefault(),t.extend(m,s,{scrollTarget:s.scrollTarget||S,link:o}),t.mblockSmoothScroll(m))}),this}}),t.mblockSmoothScroll=function(l,e){if("options"===l&&"object"==typeof e)return t.extend(o,e);var n,r,c,s,i=0,a="offset",f="scrollTop",h={},u={};"number"==typeof l?(n=t.extend({link:null},t.fn.mblockSmoothScroll.defaults,o),c=l):(n=t.extend({link:null},t.fn.mblockSmoothScroll.defaults,l||{},o),n.scrollElement&&(a="position","static"==n.scrollElement.css("position")&&n.scrollElement.css("position","relative"))),f="left"==n.direction?"scrollLeft":f,n.scrollElement?(r=n.scrollElement,/^(?:HTML|BODY)$/.test(r[0].nodeName)||(i=r[f]())):r=t("html, body").firstScrollable(n.direction),n.beforeScroll.call(r,n),c="number"==typeof l?l:e||t(n.scrollTarget)[a]()&&t(n.scrollTarget)[a]()[n.direction]||0,h[f]=c+i+n.offset,s=n.speed,"auto"===s&&(s=h[f]||r.scrollTop(),s/=n.autoCoefficent),u={duration:s,easing:n.easing,complete:function(){n.afterScroll.call(n.link,n)}},n.step&&(u.step=n.step),r.length?r.stop().animate(h,u):n.afterScroll.call(n.link,n)},t.mblockSmoothScroll.version=e,t.mblockSmoothScroll.filterPath=function(t){return t.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},t.fn.mblockSmoothScroll.defaults=n}(jQuery);